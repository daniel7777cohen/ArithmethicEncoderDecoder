import java.io.IOException;


//DanielCohen 203850029
//BenEfrat 305773806

public class ArithEncoderDecoder implements Compressor
{
	ArithEncDec obj_ = new ArithEncDec();

	public ArithEncoderDecoder()
	{

		// TODO Auto-generated constructor stub
	}

	@Override
	public void Compress(String[] input_names, String[] output_names) throws IOException
	{
		// TODO Auto-generated method stub
		obj_.Encoder(input_names,output_names);

	}

	@Override
	public void Decompress(String[] input_names, String[] output_names) throws IOException
	{
		// TODO Auto-generated method stub
		obj_.Decoder(input_names,output_names);
	}

	@Override
	public byte[] CompressWithArray(String[] input_names, String[] output_names) throws IOException
	{
		// TODO Auto-generated method stub
		return obj_.EncoderWithArray(input_names,output_names);

	}

	@Override
	public byte[] DecompressWithArray(String[] input_names, String[] output_names,byte [] encodedbyte) throws IOException
	{
		// TODO Auto-generated method stub
		obj_.DecoderWithArray(output_names, input_names ,encodedbyte);
		return null;
	}

	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		ArithEncoderDecoder obj = new ArithEncoderDecoder();
		String[] input_names = new String[5];
		String[] output_names = new String[5];
		input_names[4] = "001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110";
	   input_names[0] ="55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
		input_names[1] = "05261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954052610995405261099540526109954";
		input_names[2] = "92315153476657908321654567";
	   input_names[3] = "543215432188885555";

		
		String[] new_input_names = new String[5];
/*

		obj.Compress(input_names, output_names);
		//initialize new_input_names to "" 
		for(int i=0;i>input_names.length;i++)
			new_input_names[i] = "";

		obj.Decompress(output_names, new_input_names);
		for(int i=0;i<new_input_names.length;i++)
			System.out.println("output_from_decoder at new_input_names "+ i +" is "+ new_input_names[i]);
*/



		//for 3. ( decompress with array and compress with array )

		byte [] endodedByte = null;
		endodedByte = obj.CompressWithArray(input_names, output_names);
		System.out.println("original file length is "+input_names[0].length()+" "+"( "+input_names[0].length()*8+" ) bits!!!");
		System.out.println("encoded bits length are "+output_names[0].length());
		for(int i=0;i>new_input_names.length;i++)
			new_input_names[i] = "";
		obj.DecompressWithArray(new_input_names, output_names, endodedByte);

		//input_names is initialized to "" after done compressing. decompressing gives decoded values back to input_names
		System.out.println("output_from_decoder at "+ 0 +" is "+ new_input_names[0]);


	}


}
